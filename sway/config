# Default config for sway
# Read `man 5 sway` for a complete reference.

#
# Basics
#
font pango:Noto Sans 10

# wallpaper
output * bg /usr/share/backgrounds/sway/Sway_Wallpaper_Blue_1920x1080.png fill
# output * bg /usr/share/backgrounds/wallpaper.png fill

# lock on lid closed
set $lock swaylock --daemonize --image /usr/share/backgrounds/sway/Sway_Wallpaper_Blue_1920x1080.png --ignore-empty-password
bindswitch --reload --locked lid:on exec $lock

# border style (hide title bar)
default_border pixel 1
default_floating_border pixel 1

# no border when only one window
smart_borders on

# not focus by mouse over
focus_follows_mouse no

# Japanese IM
exec fcitx5 &

# TODO
# hide mouse cursor when unneeded
exec unclutter &

### Idle configuration
#
# Example configuration:
#
# exec swayidle -w \
#          timeout 300 'swaylock -f -c 000000' \
#          timeout 600 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' \
#          before-sleep 'swaylock -f -c 000000'
#
# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.

#
# input configuration
#
# You can get the names of your inputs by running: swaymsg -t get_inputs
# Read `man 5 sway-input` for more information about this section.
input type:keyboard {
    xkb_options ctrl:nocaps
    repeat_rate 40
    repeat_delay 250
}

input type:touchpad {
    tap enabled
}

#
# key bindings
#
set $mod Mod1

# terminal emulator
bindsym $mod+Return exec alacritty

# TODO: theme
# app launcher
bindsym $mod+m exec wofi --show=drun --allow-images

# volume
bindsym XF86AudioRaiseVolume exec pamixer --increase 5
bindsym XF86AudioLowerVolume exec pamixer --decrease 5
bindsym XF86AudioMute exec pamixer --toggle-mute
bindsym XF86AudioMicMute exec pamixer --default-source --toggle-mute

# backlight
bindsym XF86MonBrightnessUp exec brightnessctl set 5%+
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-

# screenshot
bindsym Print exec grim -g "$(slurp -d)" -t png ~/Downloads/"$(date '+%Y%m%d-%H_%M_%S')".png

# floating mode
floating_modifier $mod normal
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle
floating_minimum_size 75 x 50
floating_maximum_size 1500 x 1000

# lock
bindsym $mod+Shift+x exec $lock

# Reload the configuration file
bindsym $mod+Shift+c reload

# exit sway
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

# moving around
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# workspaces
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

bindsym $mod+n workspace next
bindsym $mod+p workspace prev
bindsym $mod+Tab workspace next
bindsym $mod+Shift+Tab workspace prev

bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# layout
bindsym $mod+v splith
bindsym $mod+s splitv

bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+f fullscreen

# focus parent/child container
bindsym $mod+a focus parent
bindsym $mod+c focus child

# kill window
bindsym $mod+Shift+q kill

# scratchpad
bindsym $mod+Shift+comma move scratchpad
bindsym $mod+comma scratchpad show

# resizing mode
mode "resize" {
    bindsym h resize shrink width 10px
    bindsym j resize grow height 10px
    bindsym k resize shrink height 10px
    bindsym l resize grow width 10px

    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

# TODO
#
# color
#
set $bg #1C1E27
set $fg #cacacc
set $green #68DDC4

# focus colors
client.focused $bg $bg $fg $green $green
client.focused_inactive $bg $bg $fg $bg $bg

# TODO
#
# status bar
#
# Read `man 5 sway-bar` for more information about this section.
bar {
    position bottom

    font pango:Noto Sans 10
    # mode hide
    # modifier $mod

    # When the status_command prints a new line to stdout, swaybar updates.
    # The default just shows the current date and time.
    status_command while date +'%Y-%m-%d %I:%M:%S %p'; do sleep 1; done

    # no tray icon
    tray_output none

    # colors {
    #     statusline #ffffff
    #     background #323232
    #     inactive_workspace #32323200 #32323200 #5c5c5c
    # }
    colors {
        background $bg
        focused_workspace $green $green $bg
        inactive_workspace $bg $bg $fg
    }
}

# TODO
include /etc/sway/config.d/*
